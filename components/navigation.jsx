'use client';
import Link from "next/link";
import {useEffect, useState} from "react";
import Image from "next/image";
import {formatPhone} from "@/helpers/formatPhone";

const Navigation = ({directions, active, closeCallback, contacts, menu}) => {
    const [menuClass, setMenuClass] = useState('opacity-0');

    useEffect(() => {
        if (active) {
            setMenuClass('duration-500 delay-500 fixed top-0 left-0 z-[11] h-screen w-full bg-main-black overflow-y-auto');
        } else {
            setMenuClass('invisible duration-500 opacity-0 fixed top-0 left-0 z-[11] h-screen w-full bg-main-black overflow-y-auto');
        }
    }, [active]);

    return (
        <div className={menuClass}>
            <div className="w-full">
                <div className="mx-auto flex justify-between items-center duration-200
                    2xl:max-w-[1680px] 3xl:pl-[120px] 3xl:pr-[120px]
                    lg:pr-10 lg:pl-10
                    md:pr-6
                    pl-6 pt-8 pr-4
                    ">
                    <Link onClick={closeCallback} href="/">
                        <div className="text-white flex items-end">
                            <Image width={40} height={40} src="/logo-left.svg"
                                   className="h-[40px] w-[40px] md:h-[42px] md:w-[42px]" alt="Logo"></Image>
                            <div className="ml-[15px]">
                                <svg className="duration-500 h-[31px] w-[80px] md:h-[32.5px] md:w-[84px]"
                                     width="81"
                                     height="32" viewBox="0 0 81 32" fill="none"
                                     xmlns="http://www.w3.org/2000/svg">
                                    <path
                                        d="M30.5572 7.01616H32.9945C33.2246 7.01616 33.4338 6.95266 33.6222 6.82505C33.8097 6.69805 33.9645 6.50089 34.0858 6.23389C34.2067 5.96748 34.2678 5.64575 34.2678 5.26988C34.2678 4.85773 34.201 4.52148 34.0673 4.26052C33.9337 3.99986 33.7613 3.80875 33.5494 3.6875C33.3368 3.56654 33.1154 3.50576 32.885 3.50576H30.5572V7.01616ZM27.5742 13.8008V0.886501H33.0852C33.7039 0.886501 34.2678 1.01381 34.7767 1.26841C35.2863 1.52302 35.7317 1.85686 36.1139 2.26901C36.4958 2.68116 36.7894 3.14804 36.9959 3.66935C37.2022 4.19097 37.305 4.72438 37.305 5.26988C37.305 5.99742 37.1323 6.69805 36.787 7.37086C36.4411 8.04397 35.9621 8.58947 35.3501 9.00797C34.7374 9.42617 34.019 9.63542 33.1944 9.63542H30.5572V13.8008H27.5742Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M39.8711 13.8008V0.886803H42.836V5.87042H43.8729L47.4746 0.886803H50.7666L46.1465 7.14346L51.1486 13.8008H47.5471L43.7821 8.5807H42.836V13.8008H39.8711Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M53.6924 13.8008V0.886803H56.6939V9.56285L62.2414 0.886803H65.0421V13.8008H62.0412V5.17917L56.5481 13.8008H53.6924Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M3.22131 25.1216H5.65854C5.88896 25.1216 6.09791 25.0581 6.28629 24.9305C6.47377 24.8032 6.62859 24.6064 6.74985 24.3394C6.8708 24.073 6.93158 23.7512 6.93158 23.3753C6.93158 22.9632 6.86506 22.6266 6.7314 22.3657C6.59805 22.1053 6.42539 21.9142 6.21342 21.793C6.00084 21.6717 5.77949 21.6109 5.54938 21.6109H3.22131V25.1216ZM0.238281 31.9062V18.992H5.74925C6.36794 18.992 6.93158 19.119 7.4411 19.3739C7.95032 19.6285 8.39573 19.9623 8.77795 20.3742C9.15986 20.7866 9.45378 21.2535 9.66 21.7745C9.86623 22.2964 9.96935 22.8298 9.96935 23.3753C9.96935 24.1029 9.79638 24.8032 9.45106 25.4763C9.10513 26.1491 8.62615 26.6946 8.01412 27.1134C7.40149 27.5316 6.68302 27.7406 5.85872 27.7406H3.22131V31.9062H0.238281Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M14.7498 25.4479C14.7498 25.9454 14.8254 26.4274 14.9769 26.8939C15.1284 27.3611 15.3467 27.7763 15.6318 28.1401C15.9167 28.5038 16.2681 28.795 16.6869 29.0131C17.1054 29.2314 17.5992 29.3402 18.1695 29.3402C18.7268 29.3402 19.2178 29.2284 19.6424 29.004C20.0669 28.7799 20.4186 28.4766 20.6974 28.0944C20.9762 27.7125 21.1855 27.2913 21.3249 26.8304C21.4643 26.3696 21.5341 25.8967 21.5341 25.4113C21.5341 24.9145 21.4582 24.4355 21.3067 23.9747C21.1552 23.5139 20.9369 23.0987 20.6521 22.7289C20.3669 22.3591 20.0122 22.0712 19.588 21.8647C19.1634 21.659 18.6844 21.5553 18.151 21.5553C17.5807 21.5553 17.0839 21.6648 16.6594 21.8828C16.2351 22.1014 15.8834 22.3987 15.6046 22.7742C15.3255 23.1501 15.1136 23.5653 14.9681 24.0201C14.8224 24.4749 14.7498 24.9508 14.7498 25.4479ZM18.1147 31.9961C17.1689 31.9961 16.3047 31.8113 15.5227 31.4412C14.7404 31.0717 14.0643 30.5746 13.4946 29.9499C12.9243 29.3251 12.4879 28.6221 12.185 27.8398C11.882 27.0578 11.7305 26.2483 11.7305 25.4113C11.7305 24.5508 11.8907 23.7322 12.2122 22.956C12.5336 22.1804 12.982 21.4861 13.5581 20.8737C14.1341 20.2614 14.816 19.7791 15.6046 19.4274C16.3926 19.0761 17.2532 18.9001 18.1876 18.9001C19.145 18.9001 20.0155 19.0848 20.7975 19.4547C21.5795 19.8248 22.2526 20.3249 22.8165 20.9554C23.3802 21.5862 23.8138 22.2922 24.1171 23.0742C24.4198 23.8565 24.5719 24.6542 24.5719 25.4661C24.5719 26.3276 24.414 27.1458 24.0989 27.9214C23.7836 28.698 23.3348 29.3923 22.753 30.0043C22.1709 30.6169 21.4888 31.1019 20.7065 31.4594C19.9242 31.8171 19.0606 31.9961 18.1147 31.9961Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M26.4668 25.3206C26.4668 24.5444 26.6092 23.7776 26.8941 23.0195C27.1789 22.262 27.6035 21.5707 28.1674 20.9463C28.7311 20.3216 29.4135 19.8248 30.2137 19.4547C31.0141 19.0845 31.9173 18.8998 32.9239 18.8998C34.1362 18.8998 35.1885 19.1607 36.0796 19.682C36.9708 20.2037 37.6405 20.8822 38.0896 21.7192L35.7797 23.3382C35.5976 22.8771 35.3457 22.5166 35.0249 22.2557C34.7032 21.9953 34.3518 21.813 33.9696 21.7098C33.5877 21.607 33.2148 21.5553 32.8511 21.5553C32.2935 21.5553 31.8021 21.6675 31.3775 21.8919C30.9533 22.1166 30.6016 22.4165 30.3228 22.7924C30.0437 23.1683 29.8345 23.5868 29.6954 24.0473C29.5557 24.5084 29.4861 24.9632 29.4861 25.4113C29.4861 25.933 29.5681 26.4301 29.7317 26.903C29.8952 27.3759 30.1257 27.7941 30.4229 28.1579C30.7199 28.5217 31.0776 28.8099 31.4958 29.0221C31.9143 29.2344 32.3839 29.3399 32.9058 29.3399C33.2696 29.3399 33.6394 29.2828 34.0152 29.1676C34.3908 29.0524 34.7395 28.8613 35.0612 28.5949C35.382 28.3279 35.6276 27.9762 35.7975 27.5395L38.2532 28.9946C37.9865 29.6254 37.5619 30.1651 36.9801 30.6136C36.398 31.0623 35.7431 31.4049 35.0155 31.6414C34.288 31.8779 33.5605 31.9961 32.8329 31.9961C31.8992 31.9961 31.0443 31.805 30.2681 31.4231C29.4922 31.0409 28.8191 30.5319 28.2494 29.8948C27.6791 29.2583 27.2397 28.5432 26.9304 27.7488C26.6216 26.9544 26.4668 26.1452 26.4668 25.3206Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M39.7051 25.3206C39.7051 24.5444 39.8475 23.7776 40.1323 23.0195C40.4172 22.262 40.8417 21.5707 41.4057 20.9463C41.9693 20.3216 42.6518 19.8248 43.4519 19.4547C44.2524 19.0845 45.1556 18.8998 46.1622 18.8998C47.3745 18.8998 48.4268 19.1607 49.3179 19.682C50.209 20.2037 50.8791 20.8822 51.3282 21.7192L49.0179 23.3382C48.8359 22.8771 48.584 22.5166 48.2632 22.2557C47.9418 21.9953 47.5901 21.813 47.2079 21.7098C46.8263 21.607 46.4531 21.5553 46.0893 21.5553C45.5317 21.5553 45.0407 21.6675 44.6161 21.8919C44.1916 22.1166 43.8399 22.4165 43.5611 22.7924C43.282 23.1683 43.0727 23.5868 42.9336 24.0473C42.7942 24.5084 42.7244 24.9632 42.7244 25.4113C42.7244 25.933 42.8063 26.4301 42.9699 26.903C43.1335 27.3759 43.3639 27.7941 43.6612 28.1579C43.9581 28.5217 44.3159 28.8099 44.7344 29.0221C45.1526 29.2344 45.6222 29.3399 46.1441 29.3399C46.5078 29.3399 46.8777 29.2828 47.2535 29.1676C47.6294 29.0524 47.9777 28.8613 48.2995 28.5949C48.6203 28.3279 48.8658 27.9762 49.0361 27.5395L51.4918 28.9946C51.2248 29.6254 50.8002 30.1651 50.2187 30.6136C49.6363 31.0623 48.9817 31.4049 48.2538 31.6414C47.5266 31.8779 46.799 31.9961 46.0715 31.9961C45.1374 31.9961 44.2829 31.805 43.5064 31.4231C42.7304 31.0409 42.0573 30.5319 41.4876 29.8948C40.9176 29.2583 40.4783 28.5432 40.1686 27.7488C39.8599 26.9544 39.7051 26.1452 39.7051 25.3206Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M53.9463 31.9062V18.992H56.9475V27.6683L62.495 18.992H65.296V31.9062H62.2952V23.2846L56.802 31.9062H53.9463Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M68.8262 31.9062V18.992H71.8273V27.6683L77.3749 18.992H80.1759V31.9062H77.175V23.2846L71.6819 31.9062H68.8262Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M0.288086 13.8008V0.886802H11.0379V13.8008H8.05486V3.50576H3.27112V13.8008H0.288086Z"
                                        fill="currentColor"/>
                                    <path
                                        d="M20.8602 8.87159L19.3513 3.88768L17.8336 8.87159H20.8602ZM17.7326 0.886802H20.934L25.4087 13.8008H22.3528L21.4774 10.9088H17.2131L16.332 13.8008H13.2764L17.7326 0.886802Z"
                                        fill="currentColor"/>
                                </svg>
                            </div>
                        </div>
                    </Link>

                    <div className="text-white">
                        <div onClick={() => closeCallback()}
                             className="cursor-pointer relative burger-container flex justify-center items-center w-10 h-10">
                    <span className={'burger burger-active'}>
                        <span className="burger-line"></span>
                    </span>
                        </div>
                    </div>
                </div>
            </div>
            <div className="grid gap-y-[100px] max-w-[1680px] mx-auto px-6 pb-[150px] mt-[100px]
            md:gap-y-[120px] md:mt-[120px]
            lg:px-10
            xl:grid-cols-3 xl:gap-x-[80px]
            2xl:px-[120px]
            ">
                <div className="grid gap-y-[100px]
                md:grid-cols-2 md:gap-x-[80px]
                xl:col-span-2
                ">
                    {/*Направления*/}
                    <div>
                        <p className="pr-5 font-[500] text-[13px] leading-[19px]
                            text-placeholder-white uppercase">Направления</p>
                        <div className="mt-6 flex flex-col gap-y-8 items-start pr-10">
                            {directions.map((direction, index) => (<Link
                                onClick={closeCallback}
                                className="
                                text-[20px] leading-[30px] font-[400] font-roboto-condensed uppercase
                                md:text-[22px] md:leading-[33px]
                                2xl:text-[24px] 2xl:leading-[36px]
                                text-secondary-white hover:text-white duration-200"
                                href={'/directions/' + direction.slug}
                                key={direction.title + direction.id}>
                                {direction.title}
                            </Link>))}
                        </div>
                    </div>
                    {/*Информация*/}
                    <div>
                        <p className="font-[500] text-[13px] leading-[19px]
                            text-placeholder-white uppercase">Информация</p>
                        <div className="mt-6 flex flex-col gap-y-5 items-start">
                            {menu && menu.elements && menu.elements.map((elem) => <Link
                                onClick={closeCallback}
                                key={elem.label + elem.link + 'footer'}
                                className="
                            text-[20px] leading-[30px] font-[400] font-roboto-condensed uppercase
                                md:text-[22px] md:leading-[33px]
                                2xl:text-[24px] 2xl:leading-[36px]
                                text-secondary-white hover:text-white duration-200"
                                href={elem.link}>{elem.label}</Link>)}
                        </div>
                    </div>
                </div>
                {/* Контакты */}
                <div className="flex flex-col">
                    <Link
                        className="duration-200 text-white hover:text-secondary-white text-[24px] leading-[36px] font-bold"
                        href={'tel:' + formatPhone(contacts.phone)}>{contacts.phone}</Link>
                    <Link className="duration-200 hover:text-white mt-5 text-secondary-white text-[18px] leading-[27px]"
                          href={'mailto:' + contacts.email}>{contacts.email}</Link>
                    <div className="flex mt-8 gap-x-2 text-white">
                        <Link
                            className="icon-wrapper flex justify-center items-center text-white rounded-[50%] w-10 h-10"
                            href={contacts.vk || ''}
                            target="_blank">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                 className="duration-200"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M18.5964 12.6902C18.2731 12.2819 18.3656 12.1002 18.5964 11.7352C18.6006 11.731 21.2698 8.04257 21.5448 6.79169L21.5465 6.79086C21.6832 6.33501 21.5465 6 20.8857 6H18.6989C18.1422 6 17.8856 6.28751 17.748 6.60919C17.748 6.60919 16.6347 9.27428 15.0596 11.0018C14.5513 11.501 14.3163 11.661 14.0388 11.661C13.9021 11.661 13.6896 11.501 13.6896 11.0452V6.79086C13.6896 6.24418 13.5337 6 13.0729 6H9.63443C9.28525 6 9.07775 6.25501 9.07775 6.49252C9.07775 7.01087 9.86527 7.13004 9.94694 8.58842V11.7527C9.94694 12.4461 9.8211 12.5736 9.54193 12.5736C8.79857 12.5736 6.99434 9.89764 5.92514 6.83503C5.7093 6.24084 5.49845 6.00083 4.9376 6.00083H2.75003C2.12584 6.00083 2 6.28834 2 6.61002C2 7.17837 2.74336 10.0043 5.45679 13.7378C7.26518 16.2862 9.81194 17.6671 12.1287 17.6671C13.5212 17.6671 13.6912 17.3604 13.6912 16.8329C13.6912 14.3978 13.5654 14.1678 14.2629 14.1678C14.5863 14.1678 15.143 14.3278 16.443 15.557C17.9289 17.0146 18.1731 17.6671 19.0048 17.6671H21.1915C21.8149 17.6671 22.1307 17.3604 21.949 16.7554C21.5332 15.4828 18.7231 12.8652 18.5964 12.6902Z"
                                    fill="currentColor"/>
                            </svg>
                        </Link>
                        <Link className="icon-wrapper flex justify-center items-center rounded-[50%] w-10 h-10"
                              href={contacts.telegram || ''}
                              target="_blank">
                            <svg width="24" height="24" className="duration-200"
                                 viewBox="0 0 24 24"
                                 fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M9.84784 14.9848L9.517 19.6382C9.99034 19.6382 10.1953 19.4349 10.4412 19.1907L12.6604 17.0698L17.2588 20.4374C18.1022 20.9074 18.6964 20.6599 18.9239 19.6615L21.9423 5.51787L21.9431 5.51704C22.2106 4.27034 21.4923 3.78283 20.6706 4.08867L2.9285 10.8813C1.71764 11.3513 1.73598 12.0264 2.72267 12.3322L7.25861 13.7431L17.7947 7.15041C18.2905 6.82207 18.7414 7.00374 18.3705 7.33208L9.84784 14.9848Z"
                                    fill="currentColor"/>
                            </svg>
                        </Link>
                        <Link className="icon-wrapper flex justify-center items-center rounded-[50%] w-10 h-10"
                              href={contacts.vc_ru || ''}
                              target="_blank">
                            <svg width="24" height="25" className="duration-200" viewBox="0 0 24 25" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_2027_72024)">
                                    <path
                                        d="M17.6949 11.5862C19.2131 11.5862 20.3561 10.9536 21.1988 9.8525L20.0725 8.99313C19.7943 9.3598 19.4347 9.65685 19.0221 9.86086C18.6095 10.0649 18.1551 10.1703 17.6949 10.1688C16.0472 10.1688 14.8532 8.8264 14.8532 7.17927C14.8532 5.53213 16.0277 4.11418 17.7419 4.11418C18.5038 4.11418 19.0424 4.29407 19.5122 4.58511V6.03343H20.9296V3.92168L20.658 3.70797C19.8788 3.09495 18.6889 2.76953 17.6943 2.76953C15.2628 2.76953 13.2851 4.74725 13.2851 7.17871C13.2851 9.60787 15.2623 11.5862 17.6949 11.5862ZM20.6357 20.283L20.5852 18.2532V13.2997H17.629V14.7177H19.0922V18.0784C19.0922 19.5262 17.9865 20.5511 16.871 20.5511C15.7556 20.5511 15.1735 19.7777 15.1735 18.3305V13.2992H12.412V14.7171H13.6804V18.5763C13.6804 20.5403 14.7816 21.8935 16.7456 21.8935C17.8742 21.8935 18.7336 21.2673 19.2463 20.3019H19.2693L19.4715 21.6517H21.7431V20.2847H20.6374V20.2819L20.6357 20.283ZM12.9586 2.9775H10.495L8.35232 9.19937H8.31909L6.18784 2.9775H3.56274V4.39604H5.03915L7.58003 11.4876H8.92982V11.4859L11.5796 4.39661H12.9574V2.97808L12.9586 2.9775ZM1.25732 21.67H2.71712V20.2108H1.2579V21.67H1.25732ZM6.89482 14.944H6.87878L6.78712 13.2997H4.18149V14.5922H5.56795V20.2836H4.18149V21.6511H10.6211V20.3105H7.03576V16.8759C7.1979 15.6327 8.13003 14.571 9.40191 14.571H9.42482L9.39904 15.8418H10.8164V13.2762H9.69581C8.41248 13.2728 7.46029 13.9672 6.89425 14.9446L6.89482 14.944Z"
                                        fill="currentColor"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_2027_72024">
                                        <rect width="20.625" height="22" fill="currentColor"
                                              transform="translate(1.1875 1.33203)"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </Link>
                        <Link
                            className="icon-wrapper flex justify-center items-center rounded-[50%] w-10 h-10"
                            href={contacts.dzen || ''}
                            target="_blank">
                            <svg width="24" height="25" className="duration-200" viewBox="0 0 24 25" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <g clipPath="url(#clip0_2027_72064)">
                                    <path
                                        d="M13.9286 14.2606C12.3571 15.882 12.2429 17.9035 12.1071 22.332C16.2357 22.332 19.0857 22.3177 20.5571 20.8892C21.9857 19.4177 22 16.432 22 12.4392C17.5714 12.582 15.55 12.6892 13.9286 14.2606ZM2 12.4392C2 16.432 2.01429 19.4177 3.44286 20.8892C4.91429 22.3177 7.76429 22.332 11.8929 22.332C11.75 17.9035 11.6429 15.882 10.0714 14.2606C8.45 12.6892 6.42857 12.5749 2 12.4392ZM11.8929 2.33203C7.77143 2.33203 4.91429 2.34632 3.44286 3.77489C2.01429 5.24632 2 8.23203 2 12.2249C6.42857 12.082 8.45 11.9749 10.0714 10.4035C11.6429 8.78203 11.7571 6.7606 11.8929 2.33203ZM13.9286 10.4035C12.3571 8.78203 12.2429 6.7606 12.1071 2.33203C16.2357 2.33203 19.0857 2.34632 20.5571 3.77489C21.9857 5.24632 22 8.23203 22 12.2249C17.5714 12.082 15.55 11.9749 13.9286 10.4035Z"
                                        fill="currentColor"/>
                                </g>
                                <defs>
                                    <clipPath id="clip0_2027_72064">
                                        <rect width="20" height="20" fill="currentColor"
                                              transform="translate(2 2.33203)"/>
                                    </clipPath>
                                </defs>
                            </svg>
                        </Link>
                    </div>
                </div>
            </div>
        </div>
    )
}

export default Navigation;
